# ospxy(Old SSL 用 Proxy).

現状 かなり古い環境では、httpsは tls1.0 となっており、現在のインターネット環境においては「普通に通信が出来ない」状況となってます。

また現在において インターネットのHPなどは、基本的に `https` でのアクセスが主流で httpが利用できない状況となっており、それらも相まって古い環境ではHTTPS通信が、ほとんど利用ができないものとなって居ます。

別に古い環境からブラウザでHPを見る事は無いのですが、一方で wget など「モジュールやライブラリのインストール」が出来ない問題があり、これらを解決するために `ospxy` を作成しました。

ospxyの使い方としては

- http でプロキシアクセスして、プロキシ先で `https` アクセス、失敗した場合は `http` アクセスする

この形でモジュールやライブラリをインストールする形とします。

使い方的には、一番単純な方法として
- src/index.js をプロキシサーバを実行したい環境に配置
- node src/index.js を実行

これで `ポート3128` でプロキシサーバが実行されるので。これに対してプロキシサーバにアクセスしたい端末の環境変数に

~/.bashrc
~~~bash
export http_proxy=http://192.168.0.220:3128/
~~~

をセットする事で、それを source で有効にした後に

~~~
wget http://google.com
~~~

のように実行することで、プロキシサーバ先は https でアクセスして取得します。

また、バインド対象のポート番号の設定等を行いたい場合は
- conf/ospxy.json

これを index.js と同じ環境に conf/ospxy.json を配置して、その中身を書き換える事で、別のバインドポートを利用する事が出来ます。

# EOF.

